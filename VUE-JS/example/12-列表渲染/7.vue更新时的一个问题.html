<!DOCTYPE html>
<html>

<head>
    <title>vue 列表-更新时的一个问题</title>
    <script src="../../js/vue.js"></script>
</head>

<body>
    <div id="root">
        <h2>人员列表</h2>
        <button @click="updateMaDongMei">更新马冬梅的信息</button>
        <ul>
            <li v-for="(p,index) of persons" :key="p.id">
                {{p.name}}-{{p.age}}-{{p.sex}}
            </li>
        </ul>


    </div>
</body>
<script type="text/javascript">
    Vue.config.productionTip = false; //阻止vue在启动时生成生产提示
    var vm = new Vue({
        el: "#root",
        data: {
            persons: [
                { id: '001', name: '马冬梅', age: 19,sex:'female' },
                { id: '002', name: '周冬雨', age: 20,sex:'female' },
                { id: '003', name: '周杰伦', age: 21,sex:'male' },
                { id: '004', name: '温兆伦', age: 32,sex:'male' },
            ],
        },
        methods:{
            updateMaDongMei(){
                // 有效方式
                // this.persons[0].name = "马老师";  
                // this.persons[0].age = 50; 
                // this.persons[0].sex = "male"; 
                console.log("persons="+this.persons);
                // 无效,vue无法检测到数据修改,数据其实已经修改了,console.log(vm.persons[0])验证
                this.persons[0] =  { id: '001', name: '马老师', age: 50,sex:'male' };
            }
        }
    });
</script>

</html>